{"version":3,"sources":["script.js"],"names":["Date","getFullYear","el","config","updateTimeout","_this","start","current","dateFuture","dateNow","delta","Math","abs","d","floor","h","m","number","s","pad2","getTimeUntil","endDate","getTime","updateView","clearTimeout","setTimeout","stop","createLeaf","label","digits","leaf","document","createElement","className","setAttribute","top","topLabel","appendChild","frontLeaf","frontLabel","backLeaf","backLabel","bottom","bottomLabel","updateLeaf","daysLeaf","hoursLeaf","minutesLeaf","secondsLeaf","value","isFlipping","currentValue","innerText","classList","add","timeout","remove","timeout2","Object","assign","labels","days","hours","minutes","seconds","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","observe","getElementById","getElement","selector","querySelector","Error","navToggle","links","addEventListener","toggle"],"mappings":"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","file":"script.06d7a7bb.js","sourceRoot":"../src","sourcesContent":["(function () {\n\tfunction FlipClock(el, config) {\n\t\tvar _this = this;\n\t\tvar updateTimeout;\n\t\t_this.el = el;\n\t\t_this.config = Object.assign(\n\t\t\t{\n\t\t\t\tendDate: new Date(new Date().getFullYear() + 1, 0, 0),\n\t\t\t\tlabels: {\n\t\t\t\t\tdays: 'Days',\n\t\t\t\t\thours: 'Hours',\n\t\t\t\t\tminutes: 'Minutes',\n\t\t\t\t\tseconds: 'Seconds',\n\t\t\t\t},\n\t\t\t},\n\t\t\tconfig\n\t\t);\n\n\t\t_this.current = {\n\t\t\td: '000',\n\t\t\th: '00',\n\t\t\tm: '00',\n\t\t\ts: '00',\n\t\t};\n\n\t\tcreateView();\n\t\tupdateView();\n\t\taddObserver();\n\n\t\tfunction start() {\n\t\t\t_this.current = getTimeUntil(\n\t\t\t\tconfig.endDate.getTime(),\n\t\t\t\tnew Date().getTime()\n\t\t\t);\n\t\t\tupdateView();\n\t\t\tclearTimeout(updateTimeout);\n\t\t\tupdateTimeout = setTimeout(start, 500);\n\t\t}\n\n\t\tfunction stop() {\n\t\t\tclearTimeout(updateTimeout);\n\t\t}\n\n\t\tfunction destroy() {\n\t\t\tstop();\n\t\t\t_this.observer.disconnect();\n\t\t\t_this.el.innerHTML = '';\n\t\t}\n\n\t\tfunction getTimeUntil(dateFuture, dateNow) {\n\t\t\tvar delta = Math.abs(dateFuture - dateNow) / 1000;\n\t\t\tvar d = Math.floor(delta / 86400);\n\t\t\tdelta -= d * 86400;\n\t\t\tvar h = Math.floor(delta / 3600) % 24;\n\t\t\tdelta -= h * 3600;\n\t\t\tvar m = Math.floor(delta / 60) % 60;\n\t\t\tdelta -= m * 60;\n\t\t\tvar s = Math.floor(delta % 60);\n\n\t\t\td = pad3(d);\n\t\t\th = pad2(h);\n\t\t\tm = pad2(m);\n\t\t\ts = pad2(s);\n\n\t\t\treturn {\n\t\t\t\td: d + '',\n\t\t\t\th: h + '',\n\t\t\t\tm: m + '',\n\t\t\t\ts: s + '',\n\t\t\t};\n\t\t}\n\n\t\t// Assumes a non-negative number.\n\t\tfunction pad2(number) {\n\t\t\tif (number < 10) return '0' + number;\n\t\t\telse return '' + number;\n\t\t}\n\n\t\tfunction pad3(number) {\n\t\t\tif (number < 10) return '00' + number;\n\t\t\telse if (number < 100) return '0' + number;\n\t\t\telse return '' + number;\n\t\t}\n\n\t\tfunction createView() {\n\t\t\t_this.daysLeaf = createLeaf(_this.config.labels.days, 3);\n\t\t\t_this.hoursLeaf = createLeaf(_this.config.labels.hours);\n\t\t\t_this.minutesLeaf = createLeaf(_this.config.labels.minutes);\n\t\t\t_this.secondsLeaf = createLeaf(_this.config.labels.seconds);\n\t\t}\n\n\t\tfunction createLeaf(label, digits) {\n\t\t\tvar leaf = document.createElement('div');\n\t\t\tleaf.className = 'leaf _' + (digits ? digits : '2') + '-digits';\n\t\t\tleaf.setAttribute('data-label', label);\n\t\t\tvar top = document.createElement('div');\n\t\t\tvar topLabel = document.createElement('span');\n\t\t\ttop.className = 'top';\n\t\t\ttop.appendChild(topLabel);\n\t\t\tvar frontLeaf = document.createElement('div');\n\t\t\tvar frontLabel = document.createElement('span');\n\t\t\tfrontLeaf.className = 'leaf-front';\n\t\t\tfrontLeaf.appendChild(frontLabel);\n\t\t\tvar backLeaf = document.createElement('div');\n\t\t\tvar backLabel = document.createElement('span');\n\t\t\tbackLeaf.className = 'leaf-back';\n\t\t\tbackLeaf.appendChild(backLabel);\n\t\t\tvar bottom = document.createElement('div');\n\t\t\tvar bottomLabel = document.createElement('span');\n\t\t\tbottom.className = 'bottom';\n\t\t\tbottom.appendChild(bottomLabel);\n\n\t\t\tleaf.appendChild(top);\n\t\t\tleaf.appendChild(frontLeaf);\n\t\t\tleaf.appendChild(backLeaf);\n\t\t\tleaf.appendChild(bottom);\n\n\t\t\t_this.el.appendChild(leaf);\n\n\t\t\treturn {\n\t\t\t\tel: leaf,\n\t\t\t\ttopLabel: topLabel,\n\t\t\t\tfrontLabel: frontLabel,\n\t\t\t\tbackLabel: backLabel,\n\t\t\t\tbottomLabel: bottomLabel,\n\t\t\t};\n\t\t}\n\n\t\tfunction updateView() {\n\t\t\tupdateLeaf(_this.daysLeaf, _this.current.d);\n\t\t\tupdateLeaf(_this.hoursLeaf, _this.current.h);\n\t\t\tupdateLeaf(_this.minutesLeaf, _this.current.m);\n\t\t\tupdateLeaf(_this.secondsLeaf, _this.current.s);\n\t\t}\n\n\t\tfunction updateLeaf(leaf, value) {\n\t\t\tif (leaf.isFlipping) return;\n\n\t\t\tvar currentValue = leaf.topLabel.innerText;\n\t\t\tif (value !== currentValue) {\n\t\t\t\tleaf.isFlipping = true;\n\t\t\t\tleaf.topLabel.innerText = value;\n\t\t\t\tleaf.backLabel.innerText = value;\n\t\t\t\tleaf.el.classList.add('flip');\n\n\t\t\t\tclearTimeout(leaf.timeout);\n\t\t\t\tleaf.timeout = setTimeout(function () {\n\t\t\t\t\tleaf.frontLabel.innerText = value;\n\t\t\t\t\tleaf.bottomLabel.innerText = value;\n\t\t\t\t\tleaf.el.classList.remove('flip');\n\t\t\t\t}, 600);\n\n\t\t\t\tclearTimeout(leaf.timeout2);\n\t\t\t\tleaf.timeout2 = setTimeout(function () {\n\t\t\t\t\tleaf.isFlipping = false;\n\t\t\t\t}, 1000);\n\t\t\t}\n\t\t}\n\n\t\tfunction addObserver() {\n\t\t\t_this.observer = new IntersectionObserver(function (entries, observer) {\n\t\t\t\tentries.forEach(function (entry) {\n\t\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\t\tstart();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstop();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t_this.observer.observe(_this.el);\n\t\t}\n\n\t\treturn {\n\t\t\tstart: start,\n\t\t\tstop: stop,\n\t\t\tdestroy: destroy,\n\t\t\tgetCurrent: function () {\n\t\t\t\treturn _this.current;\n\t\t\t},\n\t\t};\n\t}\n\n\t//================================================\n\t// Initialise the examples\n\tvar currentYear = new Date().getFullYear();\n\n\tnew FlipClock(document.getElementById('flipclock-1'), {\n\t\tendDate: new Date(2023, 05, 16),\n\t\tlabels: {\n\t\t\tdays: 'Dni',\n\t\t\thours: 'Godziny',\n\t\t\tminutes: 'Minuty',\n\t\t\tseconds: 'Sekundy',\n\t\t},\n\t});\n})();\n\nconst getElement = (selector) => {\n\tconst el = document.querySelector(selector);\n\tif (el) return el;\n\tthrow new Error(`Please check your classes : ${selector} does not exist`);\n};\n\nconst navToggle = getElement('.nav-toggle');\nconst links = getElement('.links');\n\nnavToggle.addEventListener('click', function () {\n\tlinks.classList.toggle('show-links');\n});\n"]}